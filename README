- Build with Rust nightly or get rid of panic_info_message.
- cargo build
- qemu-system-riscv64 -machine virt -cpu rv64 -smp 1 -m 128M -nographic -serial mon:stdio -bios target/riscv64gc-unknown-none-elf/debug/panic_repro -s -S
- Note: to exit qemu, hit ctrl-a, then x
- In another terminal...
- ~/opt/xpack-riscv-none-elf-gcc-12.2.0-1/bin/riscv-none-elf-gdb target/riscv64gc-unknown-none-elf/debug/panic_repro -ex "target remote :1234"
- (Idk if some other gdb would work.  I just use xpack for RISC-V.)
- Type "continue" (then enter) in gdb.
- See the panic message.
- Hit ctrl-c in gdb.
- Type "backtrace" (then enter) in gdb.
- No backtrace. :(
